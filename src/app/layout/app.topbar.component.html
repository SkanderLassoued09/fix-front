<div class="layout-topbar">
    <a class="layout-topbar-logo" routerLink="">
        <img
            src="assets/layout/images/{{
                layoutService.config().colorScheme === 'light'
                    ? 'Fixtronix-logo'
                    : 'Fixtronix-logo'
            }}.png"
            alt="logo"
        />
    </a>

    <button
        #menubutton
        class="p-link layout-menu-button layout-topbar-button"
        (click)="layoutService.onMenuToggle()"
    >
        <i class="pi pi-bars"></i>
    </button>

    <button
        #topbarmenubutton
        class="p-link layout-topbar-menu-button layout-topbar-button"
        (click)="layoutService.showProfileSidebar()"
    >
        <i class="pi pi-ellipsis-v"></i>
    </button>

    <div
        #topbarmenu
        class="layout-topbar-menu"
        [ngClass]="{
            'layout-topbar-menu-mobile-active':
                layoutService.state.profileSidebarVisible
        }"
    >
        <!-- <p-button
            (click)="notification('top')"
            label="Reminder Test"
            [badge]="nbNotification"
        /> -->
        <button
            (click)="logout('top-right')"
            class="p-link layout-topbar-button"
        >
            <i class="pi pi-user"></i>
            <span>Profile</span>
        </button>
    </div>
    <p-dialog
        header="Alert"
        [modal]="true"
        [(visible)]="visible"
        [position]="position"
        [style]="{ width: '25rem' }"
    >
        <span class="p-text-secondary block mb-5">
            Voulez-vous deconnecter ?.
        </span>

        <div class="flex justify-content-end gap-2">
            <p-button
                label="Ignorer"
                severity="secondary"
                (onClick)="visible = false"
            />
            <p-button label="DÃ©connexion" (onClick)="yes()" />
        </div>
    </p-dialog>
    <p-dialog
        header="Notifications"
        [modal]="true"
        [(visible)]="visibleNotification"
        [position]="positionNotification"
        [style]="{ width: '25rem' }"
        [contentStyle]="{ 'overflow-y': 'auto' }"
        resizable="true"
    >
        <ng-container *ngFor="let notification of allNotification">
            <p-card class="flex justify-content-between">
                <p>type: {{ notification.type }}</p>
                <p>title: {{ notification.message }}</p>

                <p-button
                    icon="pi pi-check"
                    (onClick)="markAsSeen(notification._id)"
                    [disabled]="disabledButtons[notification._id]"
                />
                <ng-container
                    *ngIf="notification.type === 'CONFIRMATION_COMPOSANT'"
                >
                    <p-button
                        label="Consulter les composants"
                        (onClick)="
                            getComposant(notification._id, notification._idDoc)
                        "
                    >
                    </p-button>
                </ng-container>
            </p-card>
            <!-- Add Button -->
        </ng-container>
    </p-dialog>

    <p-dialog
        header="Composant"
        [modal]="true"
        [(visible)]="openModalComposant"
        [style]="{ width: '25rem' }"
        [contentStyle]="{ 'overflow-y': 'auto' }"
        resizable="false"
    >
        <div>
            <h1>Array of composant</h1>
            <p-button
                label="confirmer les composant"
                (onClick)="confirmAndSendItBackToMagasin()"
            >
            </p-button>
        </div>
        <!-- Add Button -->
    </p-dialog>
</div>
